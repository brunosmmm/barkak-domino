annotations:
- id: ann_005905_d4dbad
  type: todo
  status: TODO
  created: '2026-01-26T00:59:05.101393+00:00'
  last_activity: '2026-01-26T00:59:05.101393+00:00'
  activity_log: []
  text: Add i18n support with react-i18next for automatic browser language detection.
    Create translation files for English, Spanish, Portuguese. Wrap UI strings with
    t() function.
  context:
    repository_id: _local/barkak-domino
    task_id: task_005523_8f529e
  perceived_complexity: 0.45
  priority: medium
  tags:
  - frontend
  - i18n
  - ux
- id: ann_010020_0bb2d7
  type: todo
  status: TODO
  created: '2026-01-26T01:00:20.460988+00:00'
  last_activity: '2026-01-26T01:00:20.460988+00:00'
  activity_log: []
  text: 'Add simple text chat system in game room. Include chat input at bottom of
    sidebar, message history with player names and timestamps. Broadcast messages
    via WebSocket to all players in the game. Consider: message length limit, basic
    profanity filter, chat toggle/minimize option.'
  context:
    repository_id: _local/barkak-domino
    task_id: task_005523_8f529e
  perceived_complexity: 0.45
  priority: medium
  tags:
  - frontend
  - backend
  - websocket
  - social
- id: ann_010141_31ffb0
  type: todo
  status: INPROGRESS
  created: '2026-01-26T01:01:41.478866+00:00'
  last_activity: '2026-01-26T15:25:59.131813+00:00'
  activity_log:
  - timestamp: '2026-01-26T02:10:24.867450+00:00'
    action: status_change
    from: TODO
    to: INPROGRESS
    task_id: task_021024_14f4bd
    source: auto
  text: 'Overhaul UI theming with "drinking, smoking, based" aesthetic.


    **Design Direction:**

    - Bar/lounge atmosphere, neon accents, vintage/retro feel

    - Darker/grittier color palette, edgy typography

    - Smoke, whiskey, playing cards vibe


    **Image Assets Needed:**

    - Background: smoky bar scene or felt table with drinks/ashtrays

    - Domino tiles: weathered/vintage texture, maybe gold accents

    - Player avatars: stylized characters (optional)

    - Victory/defeat screens: celebratory vs dejected themed

    - UI elements: buttons, panels with neon/glow effects

    - Logo/branding: "Barkak Domino" stylized


    **AI Image Tools (need setup guidance):**

    - Midjourney: Best quality, Discord-based, ~$10/mo

    - Stable Diffusion: Free, runs locally, needs GPU or cloud

    - DALL-E API: Easy integration, pay-per-image


    Note: User needs walkthrough on using these tools.'
  context:
    repository_id: _local/barkak-domino
    task_id: task_005523_8f529e
  perceived_complexity: 0.7
  priority: medium
  tags:
  - frontend
  - design
  - theming
  - ai-images
  - branding
  updated: '2026-01-26T02:10:24.867450+00:00'
  commit_refs:
  - hash: 2d0149368391863df4f6250112da71fdb866f21d
    hash_short: 2d01493
    linked_at: '2026-01-26T15:25:59.131813+00:00'
    message: 'chore: remove .pyc from tracking and add .gitignore'
- id: ann_010358_9e1779
  type: todo
  status: INPROGRESS
  created: '2026-01-26T01:03:58.507176+00:00'
  last_activity: '2026-01-27T19:13:55.434727+00:00'
  activity_log:
  - timestamp: '2026-01-27T19:13:55.434727+00:00'
    action: status_change
    from: TODO
    to: INPROGRESS
    task_id: task_191355_e8a245
    source: auto
  text: 'Add "epic moment" detection and visual effects for statistically unlikely
    plays.


    **Triggers to detect:**

    - Playing last tile to win (domino!)

    - Playing a double-6 as first move

    - Winning with 0 passes made

    - Clearing multiple tiles in quick succession

    - Comeback win when opponent had 1-2 tiles left

    - Perfect game (win without ever being blocked)

    - Blocking all opponents simultaneously


    **Visual Effects (broadcast to all players):**

    - Screen shake

    - Particle explosions / confetti

    - Dramatic slow-mo animation of the tile being played

    - Sound effects (glass clink, crowd gasp, airhorn)

    - Special message overlay: "DOMINO!", "CLUTCH!", "LEGENDARY PLAY"

    - Glow/highlight on the player who made the play


    **Implementation:**

    - Backend: Calculate odds/detect special conditions after each move

    - WebSocket: Broadcast "epic_moment" event with type and player

    - Frontend: Trigger appropriate animation/sound based on type'
  context:
    repository_id: _local/barkak-domino
    task_id: task_005523_8f529e
  perceived_complexity: 0.6
  priority: low
  tags:
  - frontend
  - backend
  - animation
  - ux
  - engagement
  updated: '2026-01-27T19:13:55.434727+00:00'
- id: ann_013542_2f3fa8
  type: idea
  status: TODO
  created: '2026-01-26T01:35:42.909331+00:00'
  last_activity: '2026-01-26T01:35:42.909331+00:00'
  activity_log: []
  text: "## Sound Taunts from Static Sound Bank\n\nAdd audio taunts that play during\
    \ gameplay events for a more immersive and fun experience.\n\n### Sound Categories:\n\
    \n1. **Pass Taunts** (when someone passes)\n   - Laugh sounds\n   - \"Aw man!\"\
    \ / disappointed sounds\n   - Buzzer sounds\n   - Comedy fail sounds\n\n2. **Domino\
    \ Taunts** (when someone dominoes/wins round)\n   - Victory fanfare\n   - Air\
    \ horn\n   - Crowd cheering\n   - \"Let's go!\" type sounds\n\n3. **Big Play Taunts**\
    \ (high-value tiles, strategic moves)\n   - Slam sounds\n   - \"Ohhh!\" reaction\
    \ sounds\n   - Impact sounds\n\n4. **Blocked Game**\n   - Tense music sting\n\
    \   - Record scratch\n\n### Implementation:\n- Store static audio files in `/public/sounds/`\n\
    - Preload sounds on game start\n- Play via Web Audio API or simple `<audio>` elements\n\
    - Add volume control in settings\n- Option to mute (respect user preference)\n\
    - Random selection from category when event occurs\n\n### Sound Sources:\n- Use\
    \ royalty-free sounds\n- Sites: freesound.org, mixkit.co, pixabay.com/sound-effects\n\
    - Keep files small (MP3/OGG, <100KB each)\n\n### UI:\n- Sound toggle button in\
    \ game UI\n- Maybe volume slider in settings\n- Visual indicator when sound plays\
    \ (for accessibility)"
  context:
    repository_id: _local/barkak-domino
    task_id: task_013330_a75592
  perceived_complexity: 0.45
  complexity_factors:
  - audio_integration
  - asset_management
  - user_preferences
  priority: low
  tags:
  - audio
  - taunts
  - sound-effects
  - ux
  - fun
- id: ann_022717_94aeb3
  type: idea
  status: TODO
  created: '2026-01-26T02:27:17.481231+00:00'
  last_activity: '2026-01-26T02:27:17.481231+00:00'
  activity_log: []
  text: 'Mini game board visualization in table corner widget.


    Add a small visual representation of the played tiles in the TableVisualization
    component (lower left corner). Doesn''t need to be pixel-perfect accurate - just
    a rough visual of the domino chain to give players a sense of the board state
    at a glance.


    **Location:** TableVisualization.tsx (lower left corner widget)

    **Concept:** Small dots/rectangles showing approximate tile positions

    **Priority:** Nice-to-have, improves game awareness'
  context:
    repository_id: _local/barkak-domino
    git_branch: master
    file: frontend/src/components/TableVisualization.tsx
    task_id: task_021024_14f4bd
  perceived_complexity: 0.45
  priority: low
  tags:
  - frontend
  - ui
  - visualization
  - enhancement
- id: ann_213736_3e7cky63f932
  type: bug
  status: TODO
  created: '2026-01-27T21:37:36.016725+00:00'
  last_activity: '2026-01-27T21:37:36.016725+00:00'
  activity_log: []
  text: 'The horizontal scrolling board layout is not functional for longer games.
    Need to implement an automatic meandering/snaking path system where dominoes arrange
    themselves in a path that stays visible within the table bounds, turning/wrapping
    as needed.


    Current approach: Single horizontal scrollable row that extends infinitely right.

    Problem: Poor UX on mobile, requires manual scrolling, tiles go off-screen.

    Solution: Dynamic path that snakes/meanders within visible table area.'
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    file: frontend/src/components/GameBoard.tsx
    task_id: task_211729_b6d339
  perceived_complexity: 0.75
  complexity_factors:
  - multi_file
  - algorithm_design
  - responsive_layout
  - state_management
  priority: critical
  complexity: high
  tags:
  - ui
  - game-board
  - layout
  - mobile
- id: ann_213922_3e7ckyac0c09
  type: idea
  status: INPROGRESS
  created: '2026-01-27T21:39:22.939389+00:00'
  last_activity: '2026-01-28T01:05:28.557758+00:00'
  activity_log:
  - timestamp: '2026-01-27T21:50:31.276094+00:00'
    action: status_change
    from: TODO
    to: INPROGRESS
    task_id: task_215031_42f4b5
    source: auto
  text: 'Create a Puppeteer-based automated testing system for end-to-end gameplay
    testing that Claude can use autonomously to debug features.


    ## Goals

    - Fully autonomous game testing without human intervention

    - Visual verification of game states (tiles, board, players)

    - Simulate multi-player games (multiple browser instances)

    - Integration with Claude Code for automatic debugging workflows


    ## Components Needed

    1. **Puppeteer test harness** - Launch game, control multiple players

    2. **Game state extraction** - Read DOM to understand current game state

    3. **Action API** - Click tiles, pass turns, send reactions, etc.

    4. **Assertion helpers** - Verify expected game states

    5. **Screenshot/recording** - Capture failures for debugging

    6. **Claude integration** - Hooks/skills for Claude to run tests and interpret
    results


    ## Use Cases

    - Regression testing after changes

    - Reproduce reported bugs automatically

    - Stress testing (rapid moves, disconnects)

    - Visual testing (UI renders correctly)

    - Claude-driven debugging: "test the tile picking phase" → runs tests → reports
    issues'
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    task_id: task_211729_b6d339
  perceived_complexity: 0.85
  complexity_factors:
  - multi_file
  - new_infrastructure
  - integration
  - tooling
  priority: medium
  complexity: high
  tags:
  - testing
  - puppeteer
  - automation
  - e2e
  - debugging
  - umbrella
  updated: '2026-01-28T01:01:27.948764+00:00'
  commit_refs:
  - hash: bf9666b35bd980bca7eb5aad8c114b21bbd64ee9
    hash_short: bf9666b
    linked_at: '2026-01-28T01:05:28.557758+00:00'
    message: 'fix(e2e): fix state extractor and reaction cooldown tests


      - State extractor now checks picked-tiles'
- id: ann_012523_3e7ckye8cb2b
  type: todo
  status: TODO
  created: '2026-01-28T01:25:23.858337+00:00'
  last_activity: '2026-01-28T01:25:23.858337+00:00'
  activity_log: []
  text: Allow non-CPU players to select an avatar from available avatars when joining
    a game. Currently avatars are auto-assigned by position.
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    task_id: task_012145_4f94a3
  perceived_complexity: 0.55
  priority: medium
  tags:
  - feature
  - ui
  - multiplayer
  - avatar
- id: ann_024447_3e7ckyd6d41f
  type: work
  status: INPROGRESS
  created: '2026-01-28T02:44:47.578990+00:00'
  last_activity: '2026-01-28T02:44:58.089427+00:00'
  activity_log:
  - timestamp: '2026-01-28T02:44:58.089427+00:00'
    action: status_change
    from: TODO
    to: INPROGRESS
    task_id: task_024457_38932e
    source: auto
  text: Implement board snaking mechanism - tiles should wrap/turn when approaching
    screen edges to keep the board playable and visible
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    task_id: task_012556_ddab7c
  perceived_complexity: 0.65
  complexity_factors:
  - multi_file
  - visual_layout
  - game_logic
  priority: high
  updated: '2026-01-28T02:44:58.089427+00:00'
- id: ann_144329_3e7ckyf57302
  type: idea
  status: TODO
  created: '2026-01-28T14:43:29.591152+00:00'
  last_activity: '2026-01-28T14:43:29.591152+00:00'
  activity_log: []
  text: 'Mobile UI: Avatars redundancy after layout changes. Due to layout changes,
    avatars on the top bar in mobile may no longer be needed. Options to explore:

    1. Show something more informative in the top bar instead of avatars

    2. Remove avatars around the table to increase table/board size (if needed for
    snake layout)


    Need to experiment with both approaches to see what works best.'
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
  perceived_complexity: 0.4
  priority: low
  tags:
  - frontend
  - mobile
  - ui
  - layout
- id: ann_144447_3e7cky40549f
  type: bug
  status: TODO
  created: '2026-01-28T14:44:47.242415+00:00'
  last_activity: '2026-01-28T14:44:47.242415+00:00'
  activity_log: []
  text: Game unplayable on mobile devices with small screens in landscape mode. Need
    to investigate and fix layout/responsiveness issues for this viewport configuration.
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
  perceived_complexity: 0.5
  priority: high
  tags:
  - frontend
  - mobile
  - responsive
  - layout
  - landscape
- id: ann_214803_3e7ckyd2c5c9
  type: bug
  status: TODO
  created: '2026-01-28T21:48:03.275566+00:00'
  last_activity: '2026-01-28T21:48:03.275566+00:00'
  activity_log: []
  text: 'Boneyard obstructs other UI elements. Fix: If screen is big enough, display
    boneyard on the table surface. If not enough space, hide the boneyard completely.'
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    file: frontend/src/components/GameBoard.tsx
  perceived_complexity: 0.4
  priority: medium
  tags:
  - ui
  - responsive
  - boneyard
- id: ann_214857_3e7ckyef6c16
  type: bug
  status: TODO
  created: '2026-01-28T21:48:57.199653+00:00'
  last_activity: '2026-01-28T21:48:57.199653+00:00'
  activity_log: []
  text: Tile placement confirmation popup is severely misaligned. When clicking on
    a tile in hand, the popup that confirms where to place the tile on the table appears
    in the wrong position.
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    file: frontend/src/components/GameBoard.tsx
  perceived_complexity: 0.45
  priority: high
  tags:
  - ui
  - alignment
  - play-buttons
- id: ann_215159_3e7cky8dc9b5
  type: bug
  status: INPROGRESS
  created: '2026-01-28T21:51:59.482077+00:00'
  last_activity: '2026-01-29T13:22:16.669699+00:00'
  activity_log:
  - timestamp: '2026-01-28T21:57:31.972391+00:00'
    action: status_change
    from: TODO
    to: INPROGRESS
    task_id: task_215731_b95912
    source: auto
  - timestamp: '2026-01-28T22:36:31.696980+00:00'
    action: status_change
    from: INPROGRESS
    to: DONE
    task_id: task_215731_b95912
    source: auto
  - timestamp: '2026-01-29T01:31:46.919780+00:00'
    action: status_change
    from: DONE
    to: INPROGRESS
    task_id: task_013146_a58dfc
    source: auto
  text: 'FUNDAMENTAL BUG: Chain layout recalculates and re-centers ALL tile positions
    on every board update. This causes the entire game to shift/move as tiles are
    added.


    CORRECT BEHAVIOR:

    - First tile placed at table center - position is FIXED

    - Each new tile placed relative to chain end - then FIXED

    - Once a tile is placed, it CANNOT move

    - Only calculate position for newly added tile


    Current algorithm rebuilds from pivot and applies centering offset - this is wrong.
    Need to store positions incrementally and never recalculate existing tiles.'
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    file: frontend/src/hooks/useChainLayout.ts
  perceived_complexity: 0.7
  priority: critical
  tags:
  - architecture
  - layout
  - chain-layout
  - fundamental
  updated: '2026-01-29T02:20:01.432578+00:00'
  resolution:
    type: fixed
    summary: Fixed fundamental layout re-centering bug. Tiles now have stable positions
      - first tile at center (fixed), subsequent tiles cached by domino key and never
      recalculated. Removed centering offset.
    approach: bugfix
  commit_refs:
  - hash: e04615b10b1457f0c4eedf0bfa17b9c1a7ff044c
    hash_short: e04615b
    linked_at: '2026-01-29T13:22:16.669699+00:00'
    message: 'chore: remove node_modules from git tracking and update .gitignore


      - Remove accidentally committed '
- id: ann_015622_3e7cky9fd4f4
  type: bug
  status: INPROGRESS
  created: '2026-01-29T01:56:22.233700+00:00'
  last_activity: '2026-01-29T02:00:47.428967+00:00'
  activity_log:
  - timestamp: '2026-01-29T02:00:47.428967+00:00'
    action: status_change
    from: TODO
    to: INPROGRESS
    task_id: task_020047_1b9373
    source: auto
  text: Next round button does not work - clicking it has no effect after a round
    ends
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    task_id: task_013146_a58dfc
  perceived_complexity: 0.4
  priority: critical
  tags:
  - gameplay
  - round-transition
  updated: '2026-01-29T02:00:47.428967+00:00'
- id: ann_024848_3e7cky1743e0
  type: idea
  status: TODO
  created: '2026-01-29T02:48:48.326124+00:00'
  last_activity: '2026-01-29T02:48:48.326124+00:00'
  activity_log: []
  text: Add game speed control option - allow players to configure how fast CPUs play
    (faster or slower). Could be a slider in game settings or lobby configuration.
  context:
    repository_id: github.com/brunosmmm/barkak-domino
    git_branch: main
    task_id: task_022001_463235
  perceived_complexity: 0.45
  priority: low
  tags:
  - feature
  - ux
  - cpu
  - settings
